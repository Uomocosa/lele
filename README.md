# NOT A LIBRARY (yet?)
This is just a simple example to test the capabilities of [iroh]([url](https://github.com/n0-computer/iroh)).
To start go to main.rs or examples/start_from_here.rs.

### What this program does:
1. Create an User (a stuct containing an iroh-endpoint gossip and router, all thing needed to establish a p2p connection)
2. See if any other "known-server" are online, if so connect to them.
3. If NO server is online create one, and wait for other Users to join your server.
4. If a server IS online, join them so that all other Users of this app know you are there, then try to create a server of your own.<br>Every User creates its own Server, this is done for extreme redundancy, it could be limited, this much redundancy is not needed.
5. Send an hello message to other Users when they come online.

----

### To start
1. Clone this repo.
2. Go to src/consts.rs.
3. Run `cargo test examples::get_random_seed::run -- --exact --nocapture` and replace the `pub const SEED: [u8; 32] = [...]` line.
4. Run `cargo test examples::get_random_topic::run -- --exact --nocapture` and replace the `pub const TOPIC: &str = "..."` line.<br>These two replacement allow your "known-servers" to be unique in your app.<br>If two app share the same known-servers things WILL get messy.
5. Run `cargo run` two or more times, the terminals will say "hello" to each other.<br>You can run the .exe in different PC connected to different networks, they will connect.

----

### Things to improve, help needed.
1. The servers can be created by anyone, there is no garantee that they are in fact server generated by onother copy of this app.<br>Meaning that thay could spam useless messages, and break your app.
2. This app relays are only the one provided by the number0 team (the people behind iroh).<br>It works well, but I would also like to add other relays to fall back to, it this one is down or other.<br>The Dht Mainline is a good starting point.
